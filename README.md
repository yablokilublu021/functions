# functions
Функции


Функция - часть программы, блок кода, имеющий своё название. Большая программа может строиться из нескольких функций, каждая из которых выполняет свою задачу, поэтому можно назвать функцию подпрограммой. Использование функций очень сильно упрощает написание и чтение кода, и в большинстве случаев делает его оптимальным по объёму занимаемой памяти. Функция должна быть описана, и после этого может вызываться. Функция должна быть описана снаружи других функций! В общем виде функция имеет следующую структуру:

тип_данных имя_функции (аргументы) {
  тело_функции
}
Где тип данных - это тип данных, который возвращает функция, имя функции - имя, по которому функция вызывается, набор аргументов (параметров) - необязательный набор переменных, и тело функции - код, который будет выполняться.

Вызов функции осуществляется именем функции и передачей набора аргументов, если таковые имеются:

Функция, которая ничего не принимает и ничего не возвращает
Самый простой для понимания вариант, с него и начнём. Помимо типов данных, которые я перечислял в уроке о типах данных, есть ещё один - void, который переводится с английского как "пустота". Создавая функцию типа void мы указываем компилятору, что никаких значений возвращаться не будет (точнее будет - функция вернёт "ничего").

В некоторых языках программирования есть понятие "процедура" - это как раз и есть функция, которая ничего не принимает и не возвращает. Но в C++ такого понятия нет, есть только функции.
Давайте напишем функцию, которая найдёт сумму двух чисел и присвоит её третьему числу. Так как функция у нас без аргументов и ничего не возвращает, переменные придётся объявить заранее и сделать их глобальными, иначе функция не будет иметь к ним доступ и мы получим ошибку:Это очень плохой пример с точки зрения оптимальности кода, но далее мы будем этот пример улучшать и в итоге получим конфетку. Чем он плох на данном этапе: у нас используются глобальные переменные, которые работают внутри функции, а одним из главных принципов программирования является разделение данных и действий. Будучи новичком, не стоит об этом сильно задумываться, позже вы сами к этому придёте. Разделяя данные и действия можно создавать универсальные инструменты, рассмотренная выше функция не является универсальной: она складывает глобальную а с глобальной b и записывает результат в глобальную же c. Сделаем следующий шаг к оптимизации: пусть функция возвращает значение.

Функция, которая ничего не принимает и возвращает результат
Чтобы функция могла вернуть численное значение, она должна быть описана с типом данных, который будет возвращаться. Нужно заранее подумать, какой тип будет возвращён, чтобы избежать ошибок. Например я знаю, что моя суммирующая функция работает с типом данных byte, она складывает два таких числа. Это означает, что результат вполне может превысить предел типа byte (сложили 100 и 200 и получили 300), значит функции следовало бы возвращать например тип данных int. Собственно поэтому у переменной c из предыдущего примера тип данных int.

Для возврата значения нам понадобится оператор return, который и будет возвращать число. Здесь нужно запомнить, что return не просто возвращает значение, а также завершает выполнение функции, то есть действия, указанные после return, выполнены уже не будут! На самом деле это очень удобно, ведь с помощью логических конструкций и операторов выбора можно предусмотреть в функции несколько разных return, которые будут возвращать разные значения или просто завершать выполнение функции.

Функция типа void вроде бы ничего не возвращает, но использование return; позволяет завершить выполнение функции по условию или как-то ещё. Это очень удобно!
Давайте перепишем наш код так, чтобы числа a и b складывались и результат возвращался функцией, и этот результат мы уже "ручками" приравняем к c.

byte a, b;
int c;
void setup() {
  a = 10;
  b = 20;
  c = sumFunction();
  // с имеет значение 30
}
void loop() {
}
int sumFunction() {
  return (a + b);
}
